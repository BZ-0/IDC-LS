@use "@unite/scss/core/CMixins" as cm;
@use "@unite/scss/core/Utils" as u;

//
@use "@unite/scss/design/ColorTheme";
@use "@unite/scss/design/ColorVars" as cl;
@use "@unite/scss/design/ColorUtils" as cu;

//
@layer ui-inputs {
    :where(.number-input) {
        place-content: center;
        place-items: center;
        pointer-events: auto;

        //
        --block-size: 2rem;

        //
        display: grid;
        grid-template-columns:
            minmax(var(--block-size), max-content)
            minmax(max-content, 1fr)
            minmax(var(--block-size), max-content);
        grid-template-rows: minmax(var(--block-size), max-content);
        block-size: var(--block-size);

        //
        overflow: hidden;
        border-radius: 0.25rem;
        min-inline-size: max-content;

        //
        &,
        input {
            font-family:
                "Consolas",
                "Menlo",
                "Monaco",
                "Lucida Console",
                "Liberation Mono",
                "DejaVu Sans Mono",
                "Bitstream Vera Sans Mono",
                "Courier New",
                monospace,
                serif;
        }

        //
        & .input-wrap {//
            inline-size: 100%;
            block-size: 100%;

            //
            @include u.clamped-height(var(--block-size), stretch, var(--block-size));

            //
            background-color: var(--current-surface-color);
            overflow: visible;
        }

        //
        & input {
            @include cm.no-wrap;

            //
            block-size: 100%;

            //
            pointer-events: none;
            cursor: default;

            //
            padding: 0px;
            overflow: visible;
            inline-size: 4em;
            min-inline-size: 0px;
            display: inline-block;
            opacity: 1;
            text-align: center;
            background: transparent;

            appearance: textfield;
            visibility: visible;

            //
            font-size: 0.7rem;
            color: var(--current-glyph-color);

            //
            @include u.clamped-height(var(--block-size), stretch, var(--block-size));
        }

        //
        & > :where(*) {//
            inline-size: 100%;
            block-size: 100%;

            //
            min-inline-size: max-content;
            min-block-size: max-content;

            //
            pointer-events: none;
            place-content: center;
            place-items: center;

            //
            display: flex;
            padding: 0.25rem;
            background: transparent;

            //
            @include u.clamped-height(var(--block-size), stretch, var(--block-size));
        }

        //
        & > :is(.f-minus, .f-plus) {
            cursor: pointer;
            background-color: var(--current-surface-color);
            pointer-events: auto;
        }

        //
        & > .icon-wrap {//
            inline-size: 100%;
            block-size: 100%;

            //
            min-inline-size: max-content;
            min-block-size: max-content;
            aspect-ratio: 1 / 1;
        }
    }
};
