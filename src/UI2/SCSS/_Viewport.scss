@use "@unite/scss/core/ClassMods" as cm;

//
@layer ux-viewport {

    //
    .ux-viewport {
        @include cm.pe-none;
        @include cm.vp-vars;

        //
        container-type: size;
        contain: strict;
        display: grid;
        position: fixed;
        overflow: visible;

        //
        inset: 0px;
        z-index: 0;

        //
        inline-size: var(--vp-i-size, 100dvi);
        block-size: var(--vp-b-size, 100dvb);
        max-inline-size: var(--vp-i-size, 100dvi);
        max-block-size: var(--vp-b-size, 100dvb);

        //
        will-change: --keyboard-inset-bottom, --keyboard-inset-height, contents, inset;

        //
        grid-template-columns: minmax(0px, 1fr);
        grid-template-rows:
            [empty-space] minmax(0px, 1fr)
            [field-edit] minmax(3rem, max-content)
            [v-keyboard] minmax(0px, var(--keyboard-inset-height, 0px));

        //
        & > * {
            grid-row: empty-space;
        }

        //
        .ux-viewport-box {
            @include cm.stretch;

            //
            align-self: start;
            grid-row: 1;
            position: relative;
            overflow: visible;
            inset: 0px;

            //
            .ux-viewport-content {
                @include cm.vp-vars;
                @extend .grid-based-box;

                //
                inset: 0px;
                inset-block-end: auto;
                position: absolute;
                overflow: hidden;
                container-type: size;
                contain: strict;

                //
                inline-size: var(--vp-i-size, 100dvi);
                block-size: var(--vp-b-size, 100dvb);
                max-inline-size: var(--vp-i-size, 100dvi);
                max-block-size: var(--vp-b-size, 100dvb);
            }
        }
    }
}
