<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">

		<title>Svelte app</title>

		<script type="importmap">
		{
			"imports": {
				"@src": "./src",
				"@apps": "./src/apps",
				"@complex": "./src/deps/complex",
				"@bundle": "./src/deps/bundle",
				"@modifiers": "./src/deps/modifiers",
				"@libraries": "./src/deps/libraries"
			}
		}
		</script>

        <script type="module">
        if (typeof navigator != "undefined") {
            navigator?.serviceWorker?.register?.(new URL('./src/sw.mjs', import.meta.url), {scope: "/"}).then(
                (registration) => {
                    console.log('Service worker registration succeeded:', registration);
                },
                (error) => {
                    console.error(`Service worker registration failed: ${error}`);
                }
            );

            //
            navigator?.registerProtocolHandler?.(
                "web+mxs",
                location.origin + `/opfs?path=%s`
            );
        }
        </script>

		<link rel="icon" type="image/png" href="/favicon.png">
		<link rel="stylesheet" type="text/css" href="src/index.scss">

		<style></style>
	</head>
	<body>
		<noscript>Please enable JavaScript to view this application.</noscript>
		<script type="module" src="src/main.ts"></script>
	</body>
</html>
